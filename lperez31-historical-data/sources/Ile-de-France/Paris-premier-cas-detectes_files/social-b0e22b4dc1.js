!function(e,t,a,i){function n(){var t="";e(".container .js-social-total-counter").each(function(){_.isFinite(i.Social.socialTotalCount)&&0!==i.Social.socialTotalCount?(t="<strong>"+i.Social.socialTotalCount+"</strong> partage",t=i.Social.socialTotalCount>1?t+="s":t,e(this).html(t)):e(this).html("<span>Partager</span>"),e(this).removeClass("js-social-total-counter")})}void 0===i.Social&&(i.Social={}),i.Social.generateShareBox=function(t){if(t=e.extend(!0,{displayUne:!1,displayFacebook:!0,displayTwitter:!0,displayGoogle:!1,displayMail:!0,displayShareCpt:!0,xitiPrefix:""},t),anchor=e(t.anchor),anchor.next()&&anchor.next().hasClass("share")||anchor.prev()&&anchor.prev().hasClass("share"))return;var o=_.getPath(i,"Content.url")||location.protocol+"//"+location.host+location.pathname,l=encodeURIComponent(o),s=i.Tools.fixedEncodeURIComponent(_.getPath(i,"Content.title")||a.title),r=i.Tools.fixedEncodeURIComponent("Toute l'actualité en direct sur www.francetvinfo.fr"),c=_.getPath(i,"Content.title")||a.title,p=_.getPath(i,"Content.otherTitle")||c,d="";d+='<div class="share">',t.displayShareCpt&&(d+='<span class="title js-social-total-counter"></span><div class="share-wrapper">');t.displayUne&&(d+="<a class=\"btn a-la-une\" onclick=\"FTVi.hasOwnProperty('countClick') && FTVi.countClick('"+t.xitiPrefix+"share::a-la-une::"+l+'\');" href="/"><span class="ftvi-icon ftvi-icon-a-la-une"></span><span class="label">À la Une</span></a>');t.displayFacebook&&(d+="<span class=\"btn facebook\" onclick=\"FTVi.hasOwnProperty('countClick') && FTVi.countClick('"+t.xitiPrefix+"share::facebook::"+l+"'); FTVi.Social.share({url:this.getAttribute('href') + '%23xtor=CS2-765-%5Bfacebook%5D-', width: 626, height: 256}); return false;\" href=\"https://www.facebook.com/sharer.php?u="+o+"&t="+encodeURIComponent(c)+'"><span class="ftvi-icon ftvi-icon-facebook"></span><span class="label">Partager</span></span>');t.displayTwitter&&(d+="<span class=\"btn twitter\" onclick=\"FTVi.hasOwnProperty('countClick') && FTVi.countClick('"+t.xitiPrefix+"share::twitter::"+l+"');FTVi.Social.share({url:this.getAttribute('href'), width: 550, height: 450}); return false;\" href=\"https://twitter.com/share?url="+o+"%23xtor=CS2-765-%5Btwitter%5D-&text="+encodeURIComponent(p)+'&via=franceinfo"><span class="ftvi-icon ftvi-icon-twitter"></span><span class="label">Twitter</span></span>');t.displayMail&&(d+='<a class="btn email" href="mailto:?subject='+s+"&body=%0A%0A"+s+"%0A%0A"+o+"%0A%0A"+r+'" ><span class="ftvi-icon ftvi-icon-email"></span><span class="label">Envoyer</span></a>');var h=e(d+="</div></div>");switch(t.insert){case"before":h.insertBefore(anchor);break;case"after":h.insertAfter(anchor);break;case"append":anchor.append(h);break;case"prepend":anchor.prepend(h);break;default:h.insertAfter(anchor)}t.displayShareCpt&&function(){if(i.Social.ajaxStarted=!1,!_.getPath(i,"Content.id"))return;if(i.Social.ajaxStarted)return;if(i.Social.ajaxStarted=!0,i.Social.socialTotalCount)n();else{var t=0;e.when(function(){var t="fb-social-count-"+location.host+location.pathname,a=i.Tools.cookie.readCookie(t),n=jQuery.Deferred();if(a)return n.resolve(parseInt(a)),n.promise();var o=["http://"+location.host+location.pathname,"https://"+location.host+location.pathname];return e.ajax("https://graph.facebook.com/?ids="+o.join(",")).done(function(e){var a,o=0;try{a=_.reduce(e,function(e,t,a){return e===t.share.share_count?t.share.share_count:e+t.share.share_count},0)}catch(e){return!1}finally{_.isFinite(a)&&a>=0&&(o=a)}i.Tools.cookie.createCookie(t,o,300),n.resolve(parseInt(o))}),n.promise()}()).done(function(e){return t=e,i.Social.socialTotalCount=t,n(),!1})}}()},i.Social.sendEmail=function(){if(0==e("#sendEmailBlock").length){'<section id="sendEmailBlock" class="modalWindow" style="height: 0px; opacity: 0; overflow: hidden;">','    <div class="container cf">','        <header class="blockTitle">Envoyer cet article<a onclick="slideUp(\'sendEmailBlock\'); return false;" href="#" class="close"></a></header>',"        <form>","            <label>Votre  nom</label>",'            <input type="text" class="txtInput" id="sendArticlename">',"            <label>Votre adresse email</label>",'            <input type="text" class="txtInput" id="sendArticleEmail">','            <input type="text" class="txtInput" id="sendArticleEmailFrom">',"            <label>L'adresse de votre destinataire</label>",'            <input type="text" class="txtInput" id="sendArticleEmailTo"><br>','            <input type="text" class="txtInput" id="sendArticleData">','            <input type="button" class="button" value="Envoyer" onclick="FTVi.sendArticleByMail();">',"        </form>",'        <p style="display: none;" id="sendArticleWaitingMessage"><b>Envoi en cours, merci de patienter…</b></p>',"    </div>","</section>",e("body").append('<section id="sendEmailBlock" class="modalWindow" style="height: 0px; opacity: 0; overflow: hidden;">    <div class="container cf">        <header class="blockTitle">Envoyer cet article<a onclick="slideUp(\'sendEmailBlock\'); return false;" href="#" class="close"></a></header>        <form>            <label>Votre  nom</label>            <input type="text" class="txtInput" id="sendArticlename">            <label>Votre adresse email</label>            <input type="text" class="txtInput" id="sendArticleEmail">            <input type="text" class="txtInput" id="sendArticleEmailFrom">            <label>L\'adresse de votre destinataire</label>            <input type="text" class="txtInput" id="sendArticleEmailTo"><br>            <input type="text" class="txtInput" id="sendArticleData">            <input type="button" class="button" value="Envoyer" onclick="FTVi.sendArticleByMail();">        </form>        <p style="display: none;" id="sendArticleWaitingMessage"><b>Envoi en cours, merci de patienter…</b></p>    </div></section>')}return slideDown("sendEmailBlock"),!1},i.Social.share=function(e){var i,n=t.screen.height/2-218,o=t.screen.width/2-313,l=(new RegExp,[]);if(-1!=e.url.lastIndexOf("https://facebook.com/sharer/sharer.php?&p[")){(i=e.url.split("&")).splice(0,1);for(var s=0,r=i.length;s<r;s++){var c=i[s].split("=");l[c[0].match(/p\[([a-z]*)\]/).pop()]=decodeURIComponent(c[1])}if(null!=l.url&&null!=FB){var p={method:"feed",link:l.url};null!=l.title&&""!=l.title&&(p.name=l.title),null!=l.summary&&""!=l.summary&&(p.caption=l.summary),null!=l.images&&""!=l.images&&(p.picture=a.location.origin+l.images),FB.ui(p)}}else t.open(e.url,"sharer","toolbar=0,status=0,width="+e.width+",height="+e.height+",top="+n+",left="+o)},a.dispatchEvent(new CustomEvent("FTVi::Social::ready",{bubbles:!0}))}(jQuery,window,document,FTVi);