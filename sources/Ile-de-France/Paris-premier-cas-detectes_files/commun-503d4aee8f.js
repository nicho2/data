!function(){"undefined"==typeof FTVi&&(FTVi={}),void 0===FTVi.Conf&&(FTVi.Conf={}),void 0===FTVi.Html&&(FTVi.Html={}),void 0===FTVi.RightColumn&&(FTVi.RightColumn={}),void 0===FTVi.Tools&&(FTVi.Tools={}),void 0===FTVi.Tools.cookie&&(FTVi.Tools.cookie={}),void 0===FTVi.Tools.string&&(FTVi.Tools.string={}),void 0===FTVi.Tools.getSlugfromHref&&(FTVi.Tools.getSlugfromHref={}),void 0===FTVi.Tools.getQueryParams&&(FTVi.Tools.getQueryParams={}),void 0===FTVi.Callbacks&&(FTVi.Callbacks={}),void 0===FTVi.Metanav&&(FTVi.Metanav={}),$.ajaxSetup({cache:!0}),FTVi.Conf.setContent=confSetContent,FTVi.ready=_ready,FTVi.getJSON=_getJSON,FTVi.getJSONP=_getJSONP,FTVi.showDisclaimer=showDisclaimer,FTVi.printPage=printPage,FTVi.sendArticleByMail=sendArticleByMail,FTVi.countClick=countClick,FTVi.initSliders=initSliders,FTVi.Html.genererLoginBox=htmlGenererLoginBox,FTVi.Html.genererPassPerduBox=htmlGenererPassPerduBox,FTVi.Html.showPassPerdu=htmlShowPassPerdu,FTVi.Html.hidePassPerdu=htmlHidePassPerdu,FTVi.Html.genererNav=htmlGenererNav,FTVi.Html.addHeaderEvents=htmlAddHeaderEvents,FTVi.Html.genererAlerte=htmlGenererAlerte,FTVi.Html.genererMessage=htmlGenererMessage,FTVi.Html.loadBlockHotContents=loadBlockHotContents,FTVi.RightColumn.loadBlocks=rightColumnLoadBlocks,FTVi.RightColumn.feedHome=rightColumnFeedHome,FTVi.RightColumn.blockSubscribe=rightColumnBlockSubscribe,FTVi.RightColumn.topHome=rightColumnTopHome,FTVi.RightColumn.blockTaxonomyContent=rightColumnBlockTaxonomyContent,FTVi.RightColumn.blockTopContents=rightColumnBlockTopContents,FTVi.RightColumn.nearestCities=rightColumnNearestCities,FTVi.RightColumn.blockExamSearch=rightColumnBlockExamSearch,FTVi.Tools.cookie.createCookie=toolsCookieCreateCookie,FTVi.Tools.cookie.createCookieMinute=toolsCookieCreateCookieMinute,FTVi.Tools.cookie.readCookie=toolsCookieReadCookie,FTVi.Tools.cookie.eraseCookie=toolsCookieEraseCookie,FTVi.Tools.storableAvailable=_storageAvailable,FTVi.Tools.string.ucfirst=toolsStringUcfirst,FTVi.Tools.string.makeSlug=_makeSlug,FTVi.Tools.getSlugfromHref=toolsGetSlugFromHref,FTVi.Tools.getIdFromHref=_getIdFromHref,FTVi.Tools.getQueryParams=toolsGetqueryParams,FTVi.Tools.fixedEncodeURIComponent=fixedEncodeURIComponent,FTVi.Tools.loadJs=_loadJs,FTVi.Tools.hasXtor=_hasXtor,FTVi.Tools.revalidateLazyLoad=_revalidateLazyLoad,FTVi.Callbacks.blazyError=_blazyError,FTVi.Metanav.toggleLoggedInUser=metanavToggleLoggedInUser,function(e,t){"use strict";var n=document.getElementsByTagName("SCRIPT")[0],i=/MSIE/.test(navigator.userAgent),o=function(){var e=document.createElement("SCRIPT");return e.async=!0,"async"in e}(),a=function(e){d[e.sFileName]=1,u[e.iPackId].current++,l(e.iPackId),s()},l=function(e){u[e].current===u[e].total&&u[e].callback&&(u[e].callback.call(t),delete u[e].callback)},r=!1,s=function e(){r=!0;var t,s,h,g=c.shift();if(void 0!==g)if(1===d[g.sFileName])u[g.iPackId].current++,l(g.iPackId),e();else{if(0===d[g.sFileName])return!1;if(-1!==d[g.sFileName])throw new Error("sorry ?");d[g.sFileName]=0,t=g,s=document.createElement("script"),h=!1,s.type="text/javascript",o&&!i&&(s.async=!1),s.defer=!1,s.className="lazyloadlight",s.onload=s.onreadystatechange=function(){var e=s.readyState;!1===h&&(!e||"loaded"==e||"complete"==e||"uninitialized"==e)&&(s.onload=s.onreadystatechange=null,a(t),h=!0)},s.src=t.sFileName,n.parentNode.insertBefore(s,n)}else r=!1},c=[],u={},d={},h="",g=/^http|\/\//,m=0,f=document.createElement("a");e.lazyLoadLight=function(e,t){var n;m++;for(var i=0,o=e.length;i<o;i++)f.href=e[i],n=(n=f.href.toString()).match(g)?n:h+n,c.push({iPackId:m,sFileName:n}),n in d||(d[n]=-1);u[m]={total:o,current:0,callback:t},!1===r&&s()},e.lazyLoadLight.setBasePath=function(e){h=e},document.dispatchEvent(new CustomEvent("lazyloadlight::ready",{bubbles:!0}))}(window.FTVi||this,this),jQuery.curCSS=function(e,t,n){return jQuery(e).css(t,n)},$.extend({getCss:function(e,t,n){void 0===n&&(n=!1),$.when.apply($,$.map(e,function(e){return n&&(e+="?_ts="+(new Date).getTime()),$.get(e,function(){$("<link>",{rel:"stylesheet",type:"text/css",href:e}).appendTo("head")})})).then(function(){"function"==typeof t&&t()})}});var bLazy=null;function confSetContent(e){void 0===FTVi.Content&&(FTVi.Content={}),FTVi.Content.type=e.type,FTVi.Content.id=e.id,FTVi.Content.title=e.title,FTVi.Content.otherTitle=e.otherTitle,FTVi.Content.author=e.author,FTVi.Content.topics=e.topics;for(var t=document.getElementsByTagName("link"),n=0;n<t.length;n++)"canonical"===t[n].getAttribute("rel")&&(FTVi.Content.url=t[n].getAttribute("href"))}function _ready(e){(document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState)?e():document.addEventListener("DOMContentLoaded",e)}function _getJSON(e,t,n){t=t||_.noop,n=n||_.noop;var i=new XMLHttpRequest;i.open("GET",e,!0),i.onload=function(e){if(this.status>=200&&this.status<400){var i=JSON.parse(this.response);t(i,this,e)}else n(this,e)},i.onerror=function(e){n(this,e)},i.send()}function _getJSONP(url,successCallback,errorCallback){successCallback=successCallback||_.noop,errorCallback=errorCallback||_.noop;var funcName="cms_"+(new Date).getTime();window[funcName]=function(e){window[funcName]=void 0,successCallback(e,this)},url+=(url.indexOf("?")>-1?"&":"?")+"callback="+funcName;var request=new XMLHttpRequest;request.open("GET",url,!0),request.onload=function(event){if(this.response&&this.status>=200&&this.status<400)return eval(this.response);errorCallback(this,event)},request.onerror=function(e){errorCallback(this,e)},request.send()}function showDisclaimer(e){if($("#disclaimer_"+e).hide(),$("#image_"+e+" img").show().hasClass("b-lazy"))new Blazy({selector:"#image_"+e+" img",error:_blazyError})}function printPage(){FTVi.Auth.setCookieMinute("FTViPrintPage",!0,1,6e4),window.open(document.URL).focus()}function fadeOut(e,t){$("#"+e).length>0&&$("#"+e).animate({opacity:0,height:"0px",width:"0px"},500,function(){null!=t&&$("#"+e).addClass(t)})}function slideUp(e,t){$("#"+e).length>0&&$("#"+e).animate({opacity:0,height:"0px"},1e3,function(){null!=t&&$("#"+e).addClass(t)})}function slideDown(e,t){$("#"+e).animate({opacity:100,height:"100%"},1e3,function(){null!=t&&$("#"+e).addClass(t)})}function feedBackXiti(){var e=document.getElementById("feedbackBtn");e&&e.addEventListener("click",function(){var e,t="homepage",n="homepage";if(void 0===FTVi.Home){e=FTVi.Content.url,t=FTVi.Content.type;var i=new RegExp(/([^_|\/]+_\d+)(]+)?/).exec(e);n=e,i[0]&&(n=i[0])}xt_adc(this,"PUB-[bannieres_questionnaires_utilisateurs]----["+t+"]-["+n+"]-")})}function breakingNews(){if(!("onLine"in navigator)||navigator.onLine){var e=FTVi.Tools.cookie.readCookie("breaking-news"),t=FTVi.Conf.general.breakingNewsFeedUrl.replace(FTVi.Conf.general.baseUrl,"/");$.get(t,function(t){var n=t["breaking-news"];if(n.length>0&&e!=n[0].id&&n[0].id!=FTVi.Tools.getIdFromHref(document.location.href)){var i=n[0],o=1===i.internal?i.relativeUrl:i.sharedUrl;FTVi.Html.genererAlerte(i.title);var a=document.getElementById("breakingNewsTitle"),l=document.getElementById("breakingNewsClose"),r=document.getElementById("breakingNewsSub"),s=document.getElementById("breakingNewsBanner");a.addEventListener("click",function(){FTVi.countClick("header::breaking-news::title"),document.location.href=o}),l.addEventListener("click",function(e){return e.preventDefault(),e.stopPropagation(),FTVi.Tools.cookie.createCookie("breaking-news",i.id,86400),FTVi.countClick("header::breaking-news::close"),$("#breakingNewsBanner").fadeOut(300,function(){s.remove()}),!1}),r.addEventListener("click",function(){return FTVi.countClick("header::breaking-news::subscribe"),FTVi.Popin.generateAlert(),!1}),$("#breakingNewsBanner").fadeIn(300)}})}}function sendArticleByMail(){var e=null!=FTVi.Content&&null!=FTVi.Content.title?FTVi.Content.title:document.title,t=$("#sendArticlename").val(),n=$("#sendArticleEmailFrom").val(),i=$("#sendArticleEmailTo").val(),o=$("#sendArticleEmail").val(),a=$("#sendArticleData").val(),l=_.getPath(FTVi,"Content.url")||location.protocol+"//"+location.host+location.pathname;t.length<1||n.length<1||i.length<1?alert("Merci de remplir tous les champs."):($("#sendArticleWaitingMessage").show(),$.post(FTVi.Conf.general.sendArticleByMailUrl,{url:l+"#xtor=CS2-765-[email]-",title:e,name:t,emailTo:i,emailFrom:n,email:o,data:a,type:"share"},function(e){var t=e.status;e.message;if("OK"!=t)return $("#sendArticleWaitingMessage").hide(),void alert("Erreur lors de l'envoi, merci de vérifier les informations.");$("#sendArticleWaitingMessage").hide(),slideUp("sendEmailBlock"),$("#contributionBanner").html('<div class="container"><div class="text">Votre message a été envoyé à son destinataire</div></div>'),$("#contributionBanner").show(),setTimeout(function(){slideUp("contributionBanner","off")},5e3)}))}function countClick(e){var t=new String(window.location.pathname),n=new RegExp("/en-direct/$","gi"),i=new RegExp("/en-direct/tv.html$","gi"),o=new RegExp("/en-direct/radio.html$","gi"),a=new RegExp("/replay-jt/.*$","gi"),l=new RegExp("/replay-magazine/.*$","gi"),r=new RegExp("/replay-radio/.*$","gi"),s=new RegExp("/images/videos/*$","gi"),c=new RegExp("/[a-z-0-9]*_[0-9]*.html$","gi"),u=new RegExp("/[a-z-0-9]+/*$","gi"),d=new RegExp("/[a-z-0-9]+/[0-9]+.html$","gi"),h="";return"/"==t&&(h="home"),(u.test(t)||d.test(t))&&(h="taxonomy"),n.test(t)&&(h="direct"),i.test(t)&&(h="direct-tv"),o.test(t)&&(h="direct-radio"),a.test(t)&&(h="replay-jt"),l.test(t)&&(h="replay-magazine"),r.test(t)&&(h="replay-radio"),s.test(t)&&(h="videos"),c.test(t)&&(h="content"),""==h&&(h="divers"),xt_click(this,"C","1",h.length?h+"::"+e:e,"N")}function initSliders(){for(var e="ftvi-slider-wrapper",t="active",n=document.querySelectorAll(".ftvi-slider"),i=0;i<n.length;i++){var o=n[i].querySelector("."+e),a=n[i].querySelector(".ftvi-slider-next"),l=!0;if(null!==o){var r=o.querySelector("ul:first-child");l=o.querySelectorAll("ul").length>1,null!==r&&-1===r.className.indexOf(t)&&(r.className+=" "+t,c(o))}l?null!==a&&(a.removeEventListener?a.removeEventListener("click",s):x.detachEvent&&a.detachEvent("onclick",s),a.addEventListener?a.addEventListener("click",s):x.attachEvent&&a.attachEvent("onclick",s)):a.style.display="none"}function s(){var n=this.parentElement.querySelector("."+e);if(null!==n){var i=n.querySelector("."+t),o=i.nextSibling;i.className=i.className.replace(" "+t,""),o instanceof Element||(o=n.querySelector("ul:first-child")),o.className+=" "+t,c(n)}}function c(e){for(var n=e.querySelectorAll("ul."+t+" li"),i=0,a=0;a<n.length;a++)i=i<n[a].clientHeight?n[a].clientHeight:i;o.style.height=i+"px"}}function htmlGenererLoginBox(){if(_facebookInit(),!document.getElementById("loginBoxBlock")){'<section id="loginBoxBlock" class="modalWindow" style="height: 0px; opacity: 0; overflow: hidden;">','    <div class="container cf">','        <header class="blockTitle">Se connecter<a onclick="slideUp(\'loginBoxBlock\'); return false;" href="#" class="close"></a></header>','        <div class="ltCol col">','            <h4 class="subtitle">Se connecter à franceinfo</h4>',"            <label>Email</label>",'            <input type="text" class="txtInput" name="email" id="piEmail">',"            <label>Mot de passe</label>",'            <input type="password" class="txtInput" name="password" id="piPassword">','            <a onclick="FTVi.Html.genererPassPerduBox(); FTVi.Html.showPassPerdu(); return false;" class="forgot" href="#">Mot de passe oublié ?</a>','            <div class="buttons">','                <input type="button" value="Se connecter" onclick="FTVi.Auth.loginPi(false);" class="button">','                <a href="/user/profile/" class="button createAcct">Créer mon compte</a>',"            </div>","        </div>",'        <div class="rtCol col">','            <h4 class="subtitle">Se connecter avec<br>un autre compte</h4>','            <div class="block-connect-social">','              <a href="#" onclick="FTVi.Auth.loginFacebook(); return false;" class="btn facebook" >','                <span class="ftvi-icon ftvi-icon-facebook"></span><span class="label">Facebook</span>',"              </a>",'              <a href="#" onclick="FTVi.Auth.loginTwitter(); return false;" class="btn twitter" >','                <span class="ftvi-icon ftvi-icon-twitter"></span><span class="label">Twitter</span>',"              </a>","            </div>","        </div>","    </div>","</section>",$("body").append('<section id="loginBoxBlock" class="modalWindow" style="height: 0px; opacity: 0; overflow: hidden;">    <div class="container cf">        <header class="blockTitle">Se connecter<a onclick="slideUp(\'loginBoxBlock\'); return false;" href="#" class="close"></a></header>        <div class="ltCol col">            <h4 class="subtitle">Se connecter à franceinfo</h4>            <label>Email</label>            <input type="text" class="txtInput" name="email" id="piEmail">            <label>Mot de passe</label>            <input type="password" class="txtInput" name="password" id="piPassword">            <a onclick="FTVi.Html.genererPassPerduBox(); FTVi.Html.showPassPerdu(); return false;" class="forgot" href="#">Mot de passe oublié ?</a>            <div class="buttons">                <input type="button" value="Se connecter" onclick="FTVi.Auth.loginPi(false);" class="button">                <a href="/user/profile/" class="button createAcct">Créer mon compte</a>            </div>        </div>        <div class="rtCol col">            <h4 class="subtitle">Se connecter avec<br>un autre compte</h4>            <div class="block-connect-social">              <a href="#" onclick="FTVi.Auth.loginFacebook(); return false;" class="btn facebook" >                <span class="ftvi-icon ftvi-icon-facebook"></span><span class="label">Facebook</span>              </a>              <a href="#" onclick="FTVi.Auth.loginTwitter(); return false;" class="btn twitter" >                <span class="ftvi-icon ftvi-icon-twitter"></span><span class="label">Twitter</span>              </a>            </div>        </div>    </div></section>')}}function htmlGenererPassPerduBox(){if(!document.getElementById("lostPasswordBlock")){'<section id="lostPasswordBlock" class="modalWindow" style="height: 0px; opacity: 0; overflow: hidden;">','    <div class="container cf">','        <header class="blockTitle">Mot de passe perdu<a onclick="slideUp(\'lostPasswordBlock\'); return false;" href="#" class="close"></a></header>','        <div class="wrap">',"            <p>Veuillez saisir votre email, un nouveau mot de passe va vous être envoyé.</p>","            <label>Email</label>",'            <input type="text" class="txtInput" name="emailPassLost" id="piEmailPassLost">','            <input type="button" value="Envoyer" onclick="FTVi.Auth.passLost();" class="button">','            <p id="piEmailPassLostMessage"></p>',"        </div>","    </div>","</section>",$("body").append('<section id="lostPasswordBlock" class="modalWindow" style="height: 0px; opacity: 0; overflow: hidden;">    <div class="container cf">        <header class="blockTitle">Mot de passe perdu<a onclick="slideUp(\'lostPasswordBlock\'); return false;" href="#" class="close"></a></header>        <div class="wrap">            <p>Veuillez saisir votre email, un nouveau mot de passe va vous être envoyé.</p>            <label>Email</label>            <input type="text" class="txtInput" name="emailPassLost" id="piEmailPassLost">            <input type="button" value="Envoyer" onclick="FTVi.Auth.passLost();" class="button">            <p id="piEmailPassLostMessage"></p>        </div>    </div></section>')}}function htmlShowPassPerdu(){return $("#loginBoxBlock").css({opacity:0,height:"0px"}),$("#lostPasswordBlock").show(),$("#lostPasswordBlock").css({opacity:1,height:"100%"}).show(),slideDown("lostPasswordBlock"),!1}function htmlHidePassPerdu(){return slideUp("lostPasswordBlock"),$("#lostPasswordBlock").hide(),!1}function htmlGenererNav(){var e=$("#topMenu");e.length&&!e.hasClass("loaded")&&$.getJSON("/header/taxonomy.json",function(e){for(var t in e){var n,i=$("#menu-"+t.replace("/","-")),o=0,a="";if(document.location.origin&&-1!=document.location.origin.indexOf("meteo")&&(a=document.location.origin.replace("meteo","www")),i.length&&0===$("ul.submenu",i).length&&e[t].hasSubmenu){if(n='<ul class="submenu">',i.find("ul").remove(),o=e[t].static.length){i.addClass("has-submenu"),n+='  <li class="submenu-col">',n+="    <ul>";for(var l=0;l<e[t].static.length;l++){var r=a.length&&0===e[t].static[l].url.lastIndexOf("http",0)?e[t].static[l].url:a+e[t].static[l].url;l==Math.ceil(o/2)&&(n+='    </ul></li><li class="submenu-col submenu-col-right"><ul>'),n+='    <li class="submenu-item"><a onclick="FTVi.countClick(\'header::sub-nav::'+toolsStringMakeSlug(e[t].static[l].label)+'\');" href="'+r+'">'+e[t].static[l].label+"</a></li>"}n+="    </ul>",n+="  </li>"}if(o=e[t].recent.length){i.addClass("has-submenu"),n+='<span class="sub-title">Les sujets du moment</span>',n+='  <li class="submenu-col">',n+="    <ul>";for(l=0;l<e[t].recent.length;l++){r=a.length&&0===e[t].recent[l].url.lastIndexOf("http",0)?e[t].recent[l].url:a+e[t].recent[l].url;l==Math.ceil(o/2)&&(n+='    </ul></li><li class="submenu-col submenu-col-right"><ul>'),n+='    <li class="submenu-item"><a onclick="FTVi.countClick(\'header::sub-nav::'+toolsStringMakeSlug(e[t].recent[l].label)+'\');" href="'+r+'">'+e[t].recent[l].label+"</a></li>"}n+="    </ul>",n+="  </li>"}n+="  </ul>",i.append(n)}}})}function htmlAddHeaderEvents(){var e,t,n,i,o,a=null;e=document.getElementById("searchForm"),t=document.getElementById("pageHeader"),n=document.getElementById("headerSearchInput"),t&&(i=t.querySelectorAll(".openSearchBtn")[0]),e&&(o=e.querySelectorAll(".quit")[0],a=e.querySelectorAll(".magnify-icon")[0]),n&&(n.addEventListener("blur",function(e){""===this.value&&(this.value="Recherchez"),$(t).removeClass("search-open")}),n.addEventListener("focus",function(){"Recherchez"===this.value&&(this.value="")})),i&&i.addEventListener("click",function(){FTVi.countClick("header::search"),$(t).toggleClass("search-open"),n&&n.focus()}),o&&o.addEventListener("click",function(){FTVi.countClick("header::search"),$(t).removeClass("search-open")}),a&&a.addEventListener("mousedown",function(t){FTVi.countClick("header::search"),e.submit()})}function htmlGenererAlerte(e){if(!document.getElementById("breakingNewsBanner")){var t="",n=$("#sub-header");t+='<div id="breakingNewsBanner" style="display: none;">',t+='   <div class="container">',t+='      <div class="title">Flash info</div>',t+='      <div class="text" id="breakingNewsTitle">'+e+"</div>",t+='      <a class="close" id="breakingNewsClose" href="#">Fermer</a>',t+='      <span class="subscribe" id="breakingNewsSub">S\'abonner</span>',t+="   </div>",t+="</div>",n.length>0?n.parent().is("a")?$(t).insertAfter(n.parent()):$(t).insertAfter(n):$(t).insertAfter($("#pageHeader"))}}function htmlGenererMessage(){if(!document.getElementById("contributionBanner")){'<div id="contributionBanner">','   <div class="container">','      <div class="text">Votre compte est maintenant créé !</div>',"   </div>","</div>",$('<div id="contributionBanner">   <div class="container">      <div class="text">Votre compte est maintenant créé !</div>   </div></div>').insertAfter($("#header"))}}function loadBlockHotContents(){"onLine"in navigator&&!navigator.onLine||$.ajax({url:"/esi/www/content/hot-contents",success:function(e){$(e).insertAfter($("#pageHeader")),FTVi.initSliders(),$("#trendingBlock .ftvi-slider-next").click(function(){FTVi.countClick("header::hot-contents::right-arrow")})}})}function rightColumnLoadBlocks(blocks,deleteBlock){FTVi.RightColumn.nbBlocks=blocks.length,FTVi.RightColumn.nbBlocksLoaded=0;for(var chargerBloc=function(block,cpt){block.url&&$.ajax({url:block.url,success:function(data){$("#rightColumn_"+cpt).html(data),block.callback&&_.getPath(FTVi,"RightColumn."+block.callback)&&eval("FTVi.RightColumn."+block.callback+"()");var bLazy=new Blazy({selector:"#rightColumn_"+cpt+" .b-lazy",error:_blazyError});FTVi.RightColumn.nbBlocksLoaded++,FTVi.RightColumn.nbBlocksLoaded==FTVi.RightColumn.nbBlocks&&void 0===FTVi.Content&&rightColumnManageRightColumnContent(deleteBlock)}})},cpt=0;cpt<FTVi.RightColumn.nbBlocks;cpt++)0==$("#rightColumn_"+cpt).length&&(cpt?$('<div id="rightColumn_'+cpt+'"></div>').insertAfter($("#rightColumn_"+(cpt-1))):$(".col-right").prepend('<div id="rightColumn_'+cpt+'"></div>')),chargerBloc(blocks[cpt],cpt)}function rightColumnManageRightColumnContent(e){if(1==e&&!new RegExp("/elections/.*$").exec(window.location.pathname))for(var t=$("#middleColumn").height(),n=$("#rightColumn");t<n.height()&&n.children("div").length>1;)n.find("div:eq("+(n.children("div").length-1)+")").remove()}function toolsCookieCreateCookie(e,t,n,i){var o;if(i=i||1e3,n){var a=new Date;a.setTime(a.getTime()+n*i),o="; expires="+a.toGMTString()}else o="";document.cookie=e+"="+t+o+"; path=/"}function toolsCookieCreateCookieMinute(e,t,n){toolsCookieCreateCookie(e,t,n,6e4)}function toolsCookieReadCookie(e){for(var t=e+"=",n=document.cookie.split(";"),i=0;i<n.length;i++){for(var o=n[i];" "==o.charAt(0);)o=o.substring(1,o.length);if(0==o.indexOf(t))return o.substring(t.length,o.length)}return!1}function toolsCookieEraseCookie(e){document.cookie=e+"=; path=/; expires=Thu, 01-Jan-1970 00:00:01 GMT"}function _storageAvailable(){try{var e=window.localStorage,t="__storage_test__";return e.setItem(t,t),e.removeItem(t),!0}catch(e){return!1}}function toolsStringUcfirst(e){return(e+="").charAt(0).toUpperCase()+e.substr(1)}function _makeSlug(e){for(var t=[{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}],n=0,i=t.length;n<i;n++)e=e.replace(t[n].re,t[n].ch);return e.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"").replace(/\-{2,}/g,"-")}function toolsGetSlugFromHref(e){if("string"==typeof e)return e.match(/([^_|\/]+_\d+)\.([^\/]+)?/)[1]}function _getIdFromHref(e){if("string"==typeof e)return regex=e.match(/([^_|\/]+)_([\d]+)\.([^\/]+)?/),null!=regex?regex[2]:void 0}function toolsGetqueryParams(e){for(var t=window.location.search.substring(1).split("&"),n=0;n<t.length;n++){var i=t[n].split("=");if(i[0]==e)return i[1]}console.log("Query Variable "+e+" not found")}function fixedEncodeURIComponent(e){return encodeURIComponent(e).replace(/[!'()*]/g,function(e){return"%"+e.charCodeAt(0).toString(16)})}function toolsStringMakeSlug(e){for(var t=[{re:/[\xC0-\xC6]/g,ch:"A"},{re:/[\xE0-\xE6]/g,ch:"a"},{re:/[\xC8-\xCB]/g,ch:"E"},{re:/[\xE8-\xEB]/g,ch:"e"},{re:/[\xCC-\xCF]/g,ch:"I"},{re:/[\xEC-\xEF]/g,ch:"i"},{re:/[\xD2-\xD6]/g,ch:"O"},{re:/[\xF2-\xF6]/g,ch:"o"},{re:/[\xD9-\xDC]/g,ch:"U"},{re:/[\xF9-\xFC]/g,ch:"u"},{re:/[\xC7-\xE7]/g,ch:"c"},{re:/[\xD1]/g,ch:"N"},{re:/[\xF1]/g,ch:"n"}],n=0,i=t.length;n<i;n++)e=e.replace(t[n].re,t[n].ch);return e.toLowerCase().replace(/\s+/g,"-").replace(/[^a-z0-9-]/g,"").replace(/\-{2,}/g,"-")}function _hasXtor(e){if(0===document.location.hash.length)return!1;if(e){new RegExp("xtor="+e+"(&*?)","gi");var t=document.location.hash.match("[#&]xtor=([^&]+)");return!!t&&t[1]===e}return document.location.hash.indexOf("xtor=")>0}function _loadJs(e,t){var n,i=document.createElement("script");i.setAttribute("src",e),t&&(i.onreadystatechange=i.onload=function(){n||t(),n=!0}),document.getElementsByTagName("head")[0].appendChild(i)}function _revalidateLazyLoad(){bLazy.revalidate()}function menuHighLight(e){var t=document.querySelector("#topMenu ul").children,n=[];if(_.each(t,function(e){var t=e.id.replace("menu-","");t&&n.push(t)}),"/"==e)document.querySelector("#topMenu .home").classList.add("sel");else{var i=e.split("/");i=_.without(i,"").reverse();var o=!1;_.each(i,function(e){o||-1===n.indexOf(e)||(document.querySelector("#menu-"+e).classList.add("sel"),o=!0)})}}function alertBannerAddBox(){var e=window.location.pathname,t="/"===e,n=!1;switch(FTVi.Conf.alertBanner.form.display){case"all":n=!0;break;case"election":n=!1,new RegExp("(^/elections/)|(^/politique/)|(^/$)").test(e)&&(n=!0),!_.isString(_.getPath(FTVi,"Content.topics"))||-1===FTVi.Content.topics.toLowerCase().indexOf("election")&&-1===FTVi.Content.topics.toLowerCase().indexOf("politique")||(n=!0),new RegExp(/(\/elections\/resultats\/alert)/).test(e)&&(n=!1);break;case"examen":(new RegExp("^/(bac|brevet|bts|bep|cap|societe/education)/.*").test(e)||t)&&(n=!0)}if(n&&!$(".form-alert-mktg").length){var i={anchor:$("#pageHeader")};switch($("#sub-header").length>0?$("#sub-header").parent().is("a")?i.anchor=$("#sub-header").parent():i.anchor=$("#sub-header"):$("#waiting-message #alert-waiting").length>0&&(i.anchor=$("#waiting-message #alert-waiting"),i.position="before"),FTVi.Conf.alertBanner.form.version){case"examen":i.classes="exam-banner"}FTVi.AlertBanner.displayBanner(i)}}function metanavToggleLoggedInUser(){var e=document.querySelector(".metanav .account-link.not-logged"),t=document.querySelector(".metanav .account-link.logged-in"),n=document.querySelector(".metanav .account-link-fake"),i=!1;gigya.accounts.getAccountInfo({callback:function(o){console.log(o),gigya.accounts.setAccountInfo({data:{lastUsed:(new Date).toISOString()}}),0===o.errorCode&&"UID"in o&&null!==o.UID&&""!==o.UID&&(i=!0),null!=e&&(n.style.display="none",e.style.display=!1===i?"inline-block":"none"),null!=t&&(n.style.display="none",t.style.display=!1===i?"none":"inline-block")}})}function footerManage(){$("#fb-root").length&&window.onAreaVisible($("#fb-root"),function(){$.ajax({url:"/esi/www/footer/classic-ajax/",async:!0,cache:!0,success:function(e){$("body").append(e)}})},500)}function addBackToTopButton(){if("longread"!==_.getPath(FTVi,"Content.type")){var e=document.getElementById("backToTop");null===e&&((e=document.createElement("div")).id="backToTop",document.body.appendChild(e));var t,n=70;e.addEventListener("click",function(e){e.preventDefault(),function e(i){i>0?(i-=n,window.scrollTo(0,i),t=setTimeout(function(){e(i-=n)},10)):clearTimeout(t)}(window.pageYOffset)});var i=_.throttle(function(e){window.pageYOffset>600?e.classList.add("visible"):e.classList.remove("visible")},300);window.addEventListener("scroll",function(){i(e)})}}function rightColumnFeedHome(){void 0!==FTVi.Content&&$("#content_"+FTVi.Content.id).length>0?$("#lesTitresRight .articles .article:eq(0)").attr("id")=="content_"+FTVi.Content.id?($("#content_"+FTVi.Content.id).remove(),$("#lesTitresRight .articles .article:eq(0) img").attr("width",300),$("#lesTitresRight .articles .article:eq(0) img").attr("height",168)):$("#content_"+FTVi.Content.id).remove():$("#lesTitresRight .article").last().remove()}function rightColumnBlockSubscribe(){var e=$("#newsletterBlock");_facebookInit(function(){FB.XFBML.parse(document.querySelector("#newsletterBlock .fb-like"))}),e.find(".nl-box-btn").click(function(){FTVi.countClick("newsletter::subscribe"),FTVi.Newsletter.displayNewsletterSubscribe(e)})}function rightColumnTopHome(){$("#lesTopsBlock").find(".article").each(function(){var e=$(this);$(this).find(".facebook").length>0&&(fb_url="http://api.facebook.com/method/fql.query?query=",fb_sql="select total_count,like_count,comment_count,share_count,click_count from link_stat where url=",$.ajax({url:fb_url+encodeURI(fb_sql+"'"+$(this).children("a").attr("href"))+"'&format=json",async:!0,dataType:"json",success:function(t){e.find(".facebook").html(t[0].total_count)}}))})}function rightColumnBlockTaxonomyContent(){$("aside.tagBlock").each(function(){var e=$(this);if(void 0!==FTVi.Content&&5!=e.children("ul").children("li").length){for(var t=e.children("ul").children("li"),n=!1,i=0,o=t.length;i<o;i++)if(t[i].id.replace("content_","")==FTVi.Content.id){$(t[i]).remove(),n=!0;break}0==n&&$(t[t.length-1]).remove(),2!=(t=e.children("ul").children("li").children("figure")).length&&$(t[t.length-1]).remove()}})}function rightColumnBlockExamSearch(){var e={bac:"BAC",bep:"BEP",brevet:"Brevet",bts:"BTS",cap:"CAP"}[FTVi.Exam.type];if(FTVi.hasOwnProperty("Exam")&&FTVi.Exam.hasOwnProperty("type")){var t="Les résultats du "+e+" seront disponibles gratuitement";switch(FTVi.Exam.type){case"bac":t+=" à partir du 5 juillet "+FTVi.Exam.year+".";break;case"brevet":t+=" à partir du 8 juillet "+FTVi.Exam.year+".";break;case"bep":t+=" à partir de mi juin "+FTVi.Exam.year+" et jusqu'à mi juillet "+FTVi.Exam.year+".";break;case"bts":t+=" à partir de mi juin "+FTVi.Exam.year+".";break;case"cap":default:t+=" à partir de fin juin / début juillet "+FTVi.Exam.year+"."}$("aside.search h2").after('<p class="desc-search">'+t+"</p>")}}function rightColumnBlockTopContents(){FTVi.Content&&FTVi.Content.id&&$(".topContents ul li#content-"+FTVi.Content.id).remove()}function rightColumnNearestCities(){var e=[];_.each(document.querySelectorAll("#townResults a"),function(t){e.push(t.outerHTML)}),document.querySelector("#containerNearestCities").innerHTML=e.join(" &bull; ")}function _facebookInit(e){var t,n,i,o,a;"undefined"==typeof FB?(window.fbAsyncInit=function(){FB.init({appId:FTVi.Conf.general.facebookAppID,status:!0,cookie:!0,xfbml:!0,oauth:!0}),e&&"function"==typeof e&&e()},t=document,n="script",i="facebook-jssdk",a=t.getElementsByTagName(n)[0],t.getElementById(i)||((o=t.createElement(n)).id=i,o.src="//connect.facebook.net/fr_FR/all.js",a.parentNode.insertBefore(o,a))):e&&"function"==typeof e&&e()}function _blazyError(e,t){var n=_.getPath(FTVi,"Conf.general.dummyUrl")||"/skin/www/img/temp/dummy.svg";e.src=n}$(document).ready(function(){bLazy=new Blazy({offset:800,selector:".b-lazy",error:_blazyError}),document.URL.match("logout")||document.body.classList.contains("live-demo")||(breakingNews(),setInterval(breakingNews,3e5)),feedBackXiti();var e=window.location.pathname;menuHighLight(e),new RegExp("/live/message/.*.html$","gi").test(e)&&$(function(){$(".publication").each(function(){var e,t=Math.round((new Date).getTime()/1e3)-parseInt($(this).html());e=t<10?"à l'instant":t<60?"il y a moins d'une minute":t<120?"il y a une minute":t<3600?"il y a "+Math.floor(t/60)+" minutes":t<7200?"il y a une heure":t<86400?"il y a "+Math.floor(t/3600)+" heures":t<172800?"hier":"il y a "+Math.floor(t/86400)+" jours",$(this).html(e)})}),FTVi.Html.genererMessage(),footerManage(),addBackToTopButton()}),document.dispatchEvent(new CustomEvent("FTVi::ready",{bubbles:!0})),window.fadeOut=fadeOut,window.slideUp=slideUp,window.slideDown=slideDown}();